{"version":3,"sources":["webpack://Taxomplete/webpack/universalModuleDefinition","webpack://Taxomplete/webpack/bootstrap","webpack://Taxomplete/./src/taxomplete.js","webpack://Taxomplete/./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack://Taxomplete/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://Taxomplete/./node_modules/@babel/runtime/helpers/createClass.js","webpack://Taxomplete/./node_modules/awesomplete/awesomplete.js","webpack://Taxomplete/./node_modules/@retog/sparql-client/lib/SparqlEndpoint.js","webpack://Taxomplete/external \"$rdf\"","webpack://Taxomplete/external \"fetch\""],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__6__","__WEBPACK_EXTERNAL_MODULE__7__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Taxomplete","input","sparqlEndpoint","getSparqlResultSet","this","_sparqlEndpoint","SparqlEndpoint","_input","previousValue","self","awesomplete","Awesomplete","populateSuggestions","prefix","query","toString","indexOf","Promise","all","getGenusSuggestions","speciesFilter","then","json","results","bindings","map","binding","genus","species","gs","cs","list","concat","parts","split","filter","length","getSpeciesSuggestions","ss","maxItems","sort","onkeyup","e","addEventListener","wordCount","trim","open","lookup","foundPos","toLowerCase","item","console","log","genusFilter","suggestion","html","suggestionSpacePos","substr","substring","result","document","createElement","setAttribute","innerHTML","filterPattern","propPart","basicFilterPattern","action","obj","instance","Constructor","TypeError","_defineProperties","target","props","descriptor","configurable","writable","protoProps","staticProps","_","me","count","isOpened","$","options","properties","initial","attrValue","getAttribute","parseInt","Function","configure","minChars","autoFirst","data","DATA","FILTER_CONTAINS","SORT_BYLENGTH","container","CONTAINER","ITEM","replace","REPLACE","tabSelect","index","ul","hidden","role","id","inside","status","className","textContent","_events","evaluate","close","reason","evt","keyCode","opened","selected","preventDefault","select","undefined","form","li","test","nodeName","parentNode","button","hasAttribute","removeAttribute","push","Suggestion","Array","isArray","label","_list","children","items","slice","apply","forEach","el","disabled","text","activeElement","fire","goto","destroy","unbind","insertBefore","removeChild","indexOfAwesomplete","splice","next","previous","pos","lis","scrollTop","offsetTop","clientHeight","suggestions","origin","originalEvent","siblingIndex","appendChild","RegExp","regExpEscape","FILTER_STARTSWITH","a","b","around","item_id","String","valueOf","expr","con","querySelector","$$","querySelectorAll","init","tag","element","val","ref","focus","event","callback","removeEventListener","type","createEvent","j","initEvent","dispatchEvent","previousElementSibling","Document","readyState","_extRdflib","_interopRequireDefault","_nodeFetch","uri","_classCallCheck","_uri","encodedQuery","encodeURIComponent","headers","accept","response","ok","rdfFetch","Headers","graph","default"],"mappings":"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","file":"taxomplete.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"$rdf\"), require(\"fetch\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"$rdf\", \"fetch\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Taxomplete\"] = factory(require(\"$rdf\"), require(\"fetch\"));\n\telse\n\t\troot[\"Taxomplete\"] = factory(root[\"$rdf\"], root[\"fetch\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__6__, __WEBPACK_EXTERNAL_MODULE__7__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import Awesomplete from \"awesomplete\";\nimport SparqlEndpoint from \"@retog/sparql-client\";\n\nexport default class Taxomplete {\n\n    constructor(input, sparqlEndpoint) {\n        if (sparqlEndpoint) {\n            if (sparqlEndpoint.getSparqlResultSet) {\n                this._sparqlEndpoint = sparqlEndpoint;\n            } else {\n                this._sparqlEndpoint = new SparqlEndpoint(sparqlEndpoint);\n            }\n        } else {\n            this._sparqlEndpoint = new SparqlEndpoint(\"https://treatment.ld.plazi.org/sparql\");\n        }\n        this._input = input;\n        let previousValue = input.value;\n\n        let self = this;\n\n        let awesomplete = new Awesomplete(input);\n        awesomplete.maxItems = 15;\n        awesomplete.sort = false;\n\n        input.onkeyup = (e) => {\n            if ((input.value.length >= 2) && (e.key !== \"Enter\") && (input.value !== previousValue)) {\n                populateSuggestions();\n            }\n            return true;\n        };\n\n        input.addEventListener(\"awesomplete-selectcomplete\", (e) => {\n            let wordCount = input.value.trim().split(\" \").length;\n            if (wordCount === 1) {\n                populateSuggestions();\n                awesomplete.open();\n            }\n            if (wordCount === 2) {\n                this.lookup();\n            }\n        });\n\n        function populateSuggestions() {\n            let value = input.value.toString();\n            previousValue = value;\n            if (value.indexOf(\" \") === -1) {\n                Promise.all([getGenusSuggestions(value), getCombinedSuggestions(value)]).then(r => {\n                    let gs = r[0].map(i => i + \" \");\n                    let cs = r[1];\n                    awesomplete.list = gs.concat(cs);\n                });\n            } else {\n                let parts = value.split(\" \").filter((s) => s.length > 0)\n                if (parts.length > 1) {\n                    getSpeciesSuggestions(parts[1], parts[0]).then(ss => {\n                        awesomplete.list = ss.map(i => parts[0] + \" \" + i);\n                    });\n                } else {\n                    getSpeciesSuggestions(\"\", parts[0]).then(ss => {\n                        awesomplete.list = ss.map(i => parts[0] + \" \" + i);\n                    });\n                }\n            }\n        }\n\n        awesomplete.filter = (t, i) => {\n            let foundPos = t.toLowerCase().indexOf(i.toLowerCase());\n            return (foundPos === 0) || (foundPos === (t.indexOf(\" \") + 1));\n        };\n\n        let origItem = awesomplete.item;\n        awesomplete.item = (suggestion, i) => {\n            let foundPos = suggestion.toLowerCase().indexOf(i.toLowerCase());\n            let suggestionSpacePos = suggestion.substr(0, suggestion.length - 1).indexOf(\" \");\n            let html;\n            if (suggestionSpacePos === -1) {\n                html = \"<mark>\" + suggestion.substring(0, i.length) + \"</mark>\" + suggestion.substring(i.length);\n            } else if (i.indexOf(\" \") === -1) {\n                html = suggestion.substring(0, suggestionSpacePos + 1) + \"<mark>\" +\n                        suggestion.substring(suggestionSpacePos + 1, suggestionSpacePos + 1 + i.length) +\n                        \"</mark>\" + suggestion.substring(suggestionSpacePos + 1 + i.length);\n            } else if (i.indexOf(\" \") !== -1) {\n                html = \"<mark>\" +\n                        suggestion.substring(0, i.length) +\n                        \"</mark>\" + suggestion.substring(i.length);\n            }\n            let result = document.createElement(\"li\");\n            result.setAttribute(\"aria-selected\", \"false\");\n            result.innerHTML = html;\n            return result;\n        };\n\n\n        /**\n         * \n         * @param {type} prefix\n         * @returns A promise for an array of matching genera\n         */\n        function getGenusSuggestions(prefix) {\n            console.log(self);\n            let query = \"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\\n\" +\n                    \"PREFIX dwc: <http://rs.tdwg.org/dwc/terms/>\\n\" +\n                    \"PREFIX dwcfp: <http://filteredpush.org/ontologies/oa/dwcFP#>\\n\" +\n                    \"PREFIX tp: <https://vocab.plazi.org/taxomplete/>\\n\" +\n                    \"SELECT DISTINCT ?genus WHERE {\\n\" +\n                    \"?sub dwc:genus ?genus .\\n\" +\n                    \"?sub rdf:type dwcfp:TaxonName.\\n\" +\n                    self.genusFilter(prefix) +\n                    \"} ORDER BY UCASE(?genus) LIMIT 10\";\n            return self._sparqlEndpoint.getSparqlResultSet(query).then(json => {\n                return json.results.bindings.map(binding => binding.genus.value);\n            });\n        }\n\n        function getSpeciesSuggestions(prefix, genus) {\n            let query = \"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\\n\" +\n                    \"PREFIX dwc: <http://rs.tdwg.org/dwc/terms/>\\n\" +\n                    \"PREFIX dwcfp: <http://filteredpush.org/ontologies/oa/dwcFP#>\\n\" +\n                    \"PREFIX tp: <https://vocab.plazi.org/taxomplete/>\\n\" +\n                    \"SELECT DISTINCT ?species WHERE {\\n\" +\n                    \"?sub dwc:genus \\\"\" + genus + \"\\\" .\\n\" +\n                    \"?sub dwc:species ?species .\\n\" +\n                    \"?sub rdf:type dwcfp:TaxonName.\\n\" +\n                    self.speciesFilter(prefix) +\n                    \"} ORDER BY UCASE(?species) LIMIT 10\";\n            return self._sparqlEndpoint.getSparqlResultSet(query).then(json => {\n                return json.results.bindings.map(binding => binding.species.value);\n            });\n        }\n\n        function getCombinedSuggestions(prefix) {\n            let query = \"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\\n\" +\n                    \"PREFIX dwc: <http://rs.tdwg.org/dwc/terms/>\\n\" +\n                    \"PREFIX dwcfp: <http://filteredpush.org/ontologies/oa/dwcFP#>\\n\" +\n                    \"PREFIX tp: <https://vocab.plazi.org/taxomplete/>\\n\" +\n                    \"SELECT DISTINCT ?genus ?species WHERE {\\n\" +\n                    \"?sub dwc:genus ?genus .\\n\" +\n                    \"?sub dwc:species ?species .\\n\" +\n                    \"?sub rdf:type dwcfp:TaxonName.\\n\" +\n                    self.speciesFilter(prefix) +\n                    \"} ORDER BY UCASE(?species) LIMIT 10\";\n            return self._sparqlEndpoint.getSparqlResultSet(query).then(json => {\n                return json.results.bindings.map(binding => binding.genus.value + \" \" + binding.species.value);\n            });\n        }\n    }\n\n    speciesFilter(prefix) {\n        return this.filterPattern(\"species\", prefix);\n    }\n\n    genusFilter(prefix) {\n        return this.filterPattern(\"genus\", prefix);\n    }\n\n    basicFilterPattern(propPart, prefix) {\n        return \"FILTER REGEX(?\"+propPart+\", \\\"^\" + prefix + \"\\\",\\\"i\\\")\\n\";\n    }\n\n    filterPattern(propPart, prefix) {\n        let result = \"\";\n        if (prefix.length > 3) {\n            result += \"?sub tp:\"+propPart+\"Prefix4 \\\"\" + prefix.toLowerCase().substr(0,4) + \"\\\".\\n\";\n            result += this.basicFilterPattern(propPart, prefix);\n        } else {\n            if (prefix.length > 2) {\n                result += \"?sub tp:\"+propPart+\"Prefix3 \\\"\" + prefix.toLowerCase().substr(0,3) + \"\\\".\\n\";\n            } else {\n                if (prefix.length > 1) {\n                    result += \"?sub tp:\"+propPart+\"Prefix2 \\\"\" + prefix.toLowerCase().substr(0,2) + \"\\\".\\n\";\n                } else {\n                    result += this.basicFilterPattern(propPart, prefix);\n                }    \n            }\n        }\n        return result;\n    }\n\n    lookup() {\n        this.action(this._input.value.toString());\n    }\n\n    action(value) {\n        console.log(\"Value \"+value+\" selected, overwrite action(value) method to have something happen.\")\n    }\n\n}","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","/**\n * Simple, lightweight, usable local autocomplete library for modern browsers\n * Because there weren’t enough autocomplete scripts in the world? Because I’m completely insane and have NIH syndrome? Probably both. :P\n * @author Lea Verou http://leaverou.github.io/awesomplete\n * MIT license\n */\n\n(function () {\n\nvar _ = function (input, o) {\n\tvar me = this;\n\n    // Keep track of number of instances for unique IDs\n    _.count = (_.count || 0) + 1;\n    this.count = _.count;\n\n\t// Setup\n\n\tthis.isOpened = false;\n\n\tthis.input = $(input);\n\tthis.input.setAttribute(\"autocomplete\", \"off\");\n\tthis.input.setAttribute(\"aria-expanded\", \"false\");\n\tthis.input.setAttribute(\"aria-owns\", \"awesomplete_list_\" + this.count);\n\tthis.input.setAttribute(\"role\", \"combobox\");\n\n\t// store constructor options in case we need to distinguish\n\t// between default and customized behavior later on\n\tthis.options = o = o || {};\n\n\tconfigure(this, {\n\t\tminChars: 2,\n\t\tmaxItems: 10,\n\t\tautoFirst: false,\n\t\tdata: _.DATA,\n\t\tfilter: _.FILTER_CONTAINS,\n\t\tsort: o.sort === false ? false : _.SORT_BYLENGTH,\n\t\tcontainer: _.CONTAINER,\n\t\titem: _.ITEM,\n\t\treplace: _.REPLACE,\n\t\ttabSelect: false\n\t}, o);\n\n\tthis.index = -1;\n\n\t// Create necessary elements\n\n\tthis.container = this.container(input);\n\n\tthis.ul = $.create(\"ul\", {\n\t\thidden: \"hidden\",\n        role: \"listbox\",\n        id: \"awesomplete_list_\" + this.count,\n\t\tinside: this.container\n\t});\n\n\tthis.status = $.create(\"span\", {\n\t\tclassName: \"visually-hidden\",\n\t\trole: \"status\",\n\t\t\"aria-live\": \"assertive\",\n        \"aria-atomic\": true,\n        inside: this.container,\n        textContent: this.minChars != 0 ? (\"Type \" + this.minChars + \" or more characters for results.\") : \"Begin typing for results.\"\n\t});\n\n\t// Bind events\n\n\tthis._events = {\n\t\tinput: {\n\t\t\t\"input\": this.evaluate.bind(this),\n\t\t\t\"blur\": this.close.bind(this, { reason: \"blur\" }),\n\t\t\t\"keydown\": function(evt) {\n\t\t\t\tvar c = evt.keyCode;\n\n\t\t\t\t// If the dropdown `ul` is in view, then act on keydown for the following keys:\n\t\t\t\t// Enter / Esc / Up / Down\n\t\t\t\tif(me.opened) {\n\t\t\t\t\tif (c === 13 && me.selected) { // Enter\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tme.select(undefined, undefined, evt);\n\t\t\t\t\t}\n\t\t\t\t\telse if (c === 9 && me.selected && me.tabSelect) {\n\t\t\t\t\t\tme.select(undefined, undefined, evt);\n\t\t\t\t\t}\n\t\t\t\t\telse if (c === 27) { // Esc\n\t\t\t\t\t\tme.close({ reason: \"esc\" });\n\t\t\t\t\t}\n\t\t\t\t\telse if (c === 38 || c === 40) { // Down/Up arrow\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tme[c === 38? \"previous\" : \"next\"]();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tform: {\n\t\t\t\"submit\": this.close.bind(this, { reason: \"submit\" })\n\t\t},\n\t\tul: {\n\t\t\t// Prevent the default mousedowm, which ensures the input is not blurred.\n\t\t\t// The actual selection will happen on click. This also ensures dragging the\n\t\t\t// cursor away from the list item will cancel the selection\n\t\t\t\"mousedown\": function(evt) {\n\t\t\t\tevt.preventDefault();\n\t\t\t},\n\t\t\t// The click event is fired even if the corresponding mousedown event has called preventDefault\n\t\t\t\"click\": function(evt) {\n\t\t\t\tvar li = evt.target;\n\n\t\t\t\tif (li !== this) {\n\n\t\t\t\t\twhile (li && !/li/i.test(li.nodeName)) {\n\t\t\t\t\t\tli = li.parentNode;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (li && evt.button === 0) {  // Only select on left click\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tme.select(li, evt.target, evt);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t$.bind(this.input, this._events.input);\n\t$.bind(this.input.form, this._events.form);\n\t$.bind(this.ul, this._events.ul);\n\n\tif (this.input.hasAttribute(\"list\")) {\n\t\tthis.list = \"#\" + this.input.getAttribute(\"list\");\n\t\tthis.input.removeAttribute(\"list\");\n\t}\n\telse {\n\t\tthis.list = this.input.getAttribute(\"data-list\") || o.list || [];\n\t}\n\n\t_.all.push(this);\n};\n\n_.prototype = {\n\tset list(list) {\n\t\tif (Array.isArray(list)) {\n\t\t\tthis._list = list;\n\t\t}\n\t\telse if (typeof list === \"string\" && list.indexOf(\",\") > -1) {\n\t\t\t\tthis._list = list.split(/\\s*,\\s*/);\n\t\t}\n\t\telse { // Element or CSS selector\n\t\t\tlist = $(list);\n\n\t\t\tif (list && list.children) {\n\t\t\t\tvar items = [];\n\t\t\t\tslice.apply(list.children).forEach(function (el) {\n\t\t\t\t\tif (!el.disabled) {\n\t\t\t\t\t\tvar text = el.textContent.trim();\n\t\t\t\t\t\tvar value = el.value || text;\n\t\t\t\t\t\tvar label = el.label || text;\n\t\t\t\t\t\tif (value !== \"\") {\n\t\t\t\t\t\t\titems.push({ label: label, value: value });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis._list = items;\n\t\t\t}\n\t\t}\n\n\t\tif (document.activeElement === this.input) {\n\t\t\tthis.evaluate();\n\t\t}\n\t},\n\n\tget selected() {\n\t\treturn this.index > -1;\n\t},\n\n\tget opened() {\n\t\treturn this.isOpened;\n\t},\n\n\tclose: function (o) {\n\t\tif (!this.opened) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.input.setAttribute(\"aria-expanded\", \"false\");\n\t\tthis.ul.setAttribute(\"hidden\", \"\");\n\t\tthis.isOpened = false;\n\t\tthis.index = -1;\n\n\t\tthis.status.setAttribute(\"hidden\", \"\");\n\n\t\t$.fire(this.input, \"awesomplete-close\", o || {});\n\t},\n\n\topen: function () {\n\t\tthis.input.setAttribute(\"aria-expanded\", \"true\");\n\t\tthis.ul.removeAttribute(\"hidden\");\n\t\tthis.isOpened = true;\n\n\t\tthis.status.removeAttribute(\"hidden\");\n\n\t\tif (this.autoFirst && this.index === -1) {\n\t\t\tthis.goto(0);\n\t\t}\n\n\t\t$.fire(this.input, \"awesomplete-open\");\n\t},\n\n\tdestroy: function() {\n\t\t//remove events from the input and its form\n\t\t$.unbind(this.input, this._events.input);\n\t\t$.unbind(this.input.form, this._events.form);\n\n\t\t// cleanup container if it was created by Awesomplete but leave it alone otherwise\n\t\tif (!this.options.container) {\n\t\t\t//move the input out of the awesomplete container and remove the container and its children\n\t\t\tvar parentNode = this.container.parentNode;\n\n\t\t\tparentNode.insertBefore(this.input, this.container);\n\t\t\tparentNode.removeChild(this.container);\n\t\t}\n\n\t\t//remove autocomplete and aria-autocomplete attributes\n\t\tthis.input.removeAttribute(\"autocomplete\");\n\t\tthis.input.removeAttribute(\"aria-autocomplete\");\n\n\t\t//remove this awesomeplete instance from the global array of instances\n\t\tvar indexOfAwesomplete = _.all.indexOf(this);\n\n\t\tif (indexOfAwesomplete !== -1) {\n\t\t\t_.all.splice(indexOfAwesomplete, 1);\n\t\t}\n\t},\n\n\tnext: function () {\n\t\tvar count = this.ul.children.length;\n\t\tthis.goto(this.index < count - 1 ? this.index + 1 : (count ? 0 : -1) );\n\t},\n\n\tprevious: function () {\n\t\tvar count = this.ul.children.length;\n\t\tvar pos = this.index - 1;\n\n\t\tthis.goto(this.selected && pos !== -1 ? pos : count - 1);\n\t},\n\n\t// Should not be used, highlights specific item without any checks!\n\tgoto: function (i) {\n\t\tvar lis = this.ul.children;\n\n\t\tif (this.selected) {\n\t\t\tlis[this.index].setAttribute(\"aria-selected\", \"false\");\n\t\t}\n\n\t\tthis.index = i;\n\n\t\tif (i > -1 && lis.length > 0) {\n\t\t\tlis[i].setAttribute(\"aria-selected\", \"true\");\n\n\t\t\tthis.status.textContent = lis[i].textContent + \", list item \" + (i + 1) + \" of \" + lis.length;\n\n            this.input.setAttribute(\"aria-activedescendant\", this.ul.id + \"_item_\" + this.index);\n\n\t\t\t// scroll to highlighted element in case parent's height is fixed\n\t\t\tthis.ul.scrollTop = lis[i].offsetTop - this.ul.clientHeight + lis[i].clientHeight;\n\n\t\t\t$.fire(this.input, \"awesomplete-highlight\", {\n\t\t\t\ttext: this.suggestions[this.index]\n\t\t\t});\n\t\t}\n\t},\n\n\tselect: function (selected, origin, originalEvent) {\n\t\tif (selected) {\n\t\t\tthis.index = $.siblingIndex(selected);\n\t\t} else {\n\t\t\tselected = this.ul.children[this.index];\n\t\t}\n\n\t\tif (selected) {\n\t\t\tvar suggestion = this.suggestions[this.index];\n\n\t\t\tvar allowed = $.fire(this.input, \"awesomplete-select\", {\n\t\t\t\ttext: suggestion,\n\t\t\t\torigin: origin || selected,\n\t\t\t\toriginalEvent: originalEvent\n\t\t\t});\n\n\t\t\tif (allowed) {\n\t\t\t\tthis.replace(suggestion);\n\t\t\t\tthis.close({ reason: \"select\" });\n\t\t\t\t$.fire(this.input, \"awesomplete-selectcomplete\", {\n\t\t\t\t\ttext: suggestion,\n\t\t\t\t\toriginalEvent: originalEvent\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\n\tevaluate: function() {\n\t\tvar me = this;\n\t\tvar value = this.input.value;\n\n\t\tif (value.length >= this.minChars && this._list && this._list.length > 0) {\n\t\t\tthis.index = -1;\n\t\t\t// Populate list with options that match\n\t\t\tthis.ul.innerHTML = \"\";\n\n\t\t\tthis.suggestions = this._list\n\t\t\t\t.map(function(item) {\n\t\t\t\t\treturn new Suggestion(me.data(item, value));\n\t\t\t\t})\n\t\t\t\t.filter(function(item) {\n\t\t\t\t\treturn me.filter(item, value);\n\t\t\t\t});\n\n\t\t\tif (this.sort !== false) {\n\t\t\t\tthis.suggestions = this.suggestions.sort(this.sort);\n\t\t\t}\n\n\t\t\tthis.suggestions = this.suggestions.slice(0, this.maxItems);\n\n\t\t\tthis.suggestions.forEach(function(text, index) {\n\t\t\t\t\tme.ul.appendChild(me.item(text, value, index));\n\t\t\t\t});\n\n\t\t\tif (this.ul.children.length === 0) {\n\n                this.status.textContent = \"No results found\";\n\n\t\t\t\tthis.close({ reason: \"nomatches\" });\n\n\t\t\t} else {\n\t\t\t\tthis.open();\n\n                this.status.textContent = this.ul.children.length + \" results found\";\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthis.close({ reason: \"nomatches\" });\n\n                this.status.textContent = \"No results found\";\n\t\t}\n\t}\n};\n\n// Static methods/properties\n\n_.all = [];\n\n_.FILTER_CONTAINS = function (text, input) {\n\treturn RegExp($.regExpEscape(input.trim()), \"i\").test(text);\n};\n\n_.FILTER_STARTSWITH = function (text, input) {\n\treturn RegExp(\"^\" + $.regExpEscape(input.trim()), \"i\").test(text);\n};\n\n_.SORT_BYLENGTH = function (a, b) {\n\tif (a.length !== b.length) {\n\t\treturn a.length - b.length;\n\t}\n\n\treturn a < b? -1 : 1;\n};\n\n_.CONTAINER = function (input) {\n\treturn $.create(\"div\", {\n\t\tclassName: \"awesomplete\",\n\t\taround: input\n\t});\n}\n\n_.ITEM = function (text, input, item_id) {\n\tvar html = input.trim() === \"\" ? text : text.replace(RegExp($.regExpEscape(input.trim()), \"gi\"), \"<mark>$&</mark>\");\n\treturn $.create(\"li\", {\n\t\tinnerHTML: html,\n\t\t\"role\": \"option\",\n\t\t\"aria-selected\": \"false\",\n\t\t\"id\": \"awesomplete_list_\" + this.count + \"_item_\" + item_id\n\t});\n};\n\n_.REPLACE = function (text) {\n\tthis.input.value = text.value;\n};\n\n_.DATA = function (item/*, input*/) { return item; };\n\n// Private functions\n\nfunction Suggestion(data) {\n\tvar o = Array.isArray(data)\n\t  ? { label: data[0], value: data[1] }\n\t  : typeof data === \"object\" && \"label\" in data && \"value\" in data ? data : { label: data, value: data };\n\n\tthis.label = o.label || o.value;\n\tthis.value = o.value;\n}\nObject.defineProperty(Suggestion.prototype = Object.create(String.prototype), \"length\", {\n\tget: function() { return this.label.length; }\n});\nSuggestion.prototype.toString = Suggestion.prototype.valueOf = function () {\n\treturn \"\" + this.label;\n};\n\nfunction configure(instance, properties, o) {\n\tfor (var i in properties) {\n\t\tvar initial = properties[i],\n\t\t    attrValue = instance.input.getAttribute(\"data-\" + i.toLowerCase());\n\n\t\tif (typeof initial === \"number\") {\n\t\t\tinstance[i] = parseInt(attrValue);\n\t\t}\n\t\telse if (initial === false) { // Boolean options must be false by default anyway\n\t\t\tinstance[i] = attrValue !== null;\n\t\t}\n\t\telse if (initial instanceof Function) {\n\t\t\tinstance[i] = null;\n\t\t}\n\t\telse {\n\t\t\tinstance[i] = attrValue;\n\t\t}\n\n\t\tif (!instance[i] && instance[i] !== 0) {\n\t\t\tinstance[i] = (i in o)? o[i] : initial;\n\t\t}\n\t}\n}\n\n// Helpers\n\nvar slice = Array.prototype.slice;\n\nfunction $(expr, con) {\n\treturn typeof expr === \"string\"? (con || document).querySelector(expr) : expr || null;\n}\n\nfunction $$(expr, con) {\n\treturn slice.call((con || document).querySelectorAll(expr));\n}\n\n$.create = function(tag, o) {\n\tvar element = document.createElement(tag);\n\n\tfor (var i in o) {\n\t\tvar val = o[i];\n\n\t\tif (i === \"inside\") {\n\t\t\t$(val).appendChild(element);\n\t\t}\n\t\telse if (i === \"around\") {\n\t\t\tvar ref = $(val);\n\t\t\tref.parentNode.insertBefore(element, ref);\n\t\t\telement.appendChild(ref);\n\n\t\t\tif (ref.getAttribute(\"autofocus\") != null) {\n\t\t\t\tref.focus();\n\t\t\t}\n\t\t}\n\t\telse if (i in element) {\n\t\t\telement[i] = val;\n\t\t}\n\t\telse {\n\t\t\telement.setAttribute(i, val);\n\t\t}\n\t}\n\n\treturn element;\n};\n\n$.bind = function(element, o) {\n\tif (element) {\n\t\tfor (var event in o) {\n\t\t\tvar callback = o[event];\n\n\t\t\tevent.split(/\\s+/).forEach(function (event) {\n\t\t\t\telement.addEventListener(event, callback);\n\t\t\t});\n\t\t}\n\t}\n};\n\n$.unbind = function(element, o) {\n\tif (element) {\n\t\tfor (var event in o) {\n\t\t\tvar callback = o[event];\n\n\t\t\tevent.split(/\\s+/).forEach(function(event) {\n\t\t\t\telement.removeEventListener(event, callback);\n\t\t\t});\n\t\t}\n\t}\n};\n\n$.fire = function(target, type, properties) {\n\tvar evt = document.createEvent(\"HTMLEvents\");\n\n\tevt.initEvent(type, true, true );\n\n\tfor (var j in properties) {\n\t\tevt[j] = properties[j];\n\t}\n\n\treturn target.dispatchEvent(evt);\n};\n\n$.regExpEscape = function (s) {\n\treturn s.replace(/[-\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n};\n\n$.siblingIndex = function (el) {\n\t/* eslint-disable no-cond-assign */\n\tfor (var i = 0; el = el.previousElementSibling; i++);\n\treturn i;\n};\n\n// Initialization\n\nfunction init() {\n\t$$(\"input.awesomplete\").forEach(function (input) {\n\t\tnew _(input);\n\t});\n}\n\n// Make sure to export Awesomplete on self when in a browser\nif (typeof self !== \"undefined\") {\n\tself.Awesomplete = _;\n}\n\n// Are we in a browser? Check for Document constructor\nif (typeof Document !== \"undefined\") {\n\t// DOM already loaded?\n\tif (document.readyState !== \"loading\") {\n\t\tinit();\n\t}\n\telse {\n\t\t// Wait for it\n\t\tdocument.addEventListener(\"DOMContentLoaded\", init);\n\t}\n}\n\n_.$ = $;\n_.$$ = $$;\n\n// Expose Awesomplete as a CJS module\nif (typeof module === \"object\" && module.exports) {\n\tmodule.exports = _;\n}\n\nreturn _;\n\n}());\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extRdflib = _interopRequireDefault(require(\"ext-rdflib\"));\n\nvar _nodeFetch = _interopRequireDefault(require(\"node-fetch\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SparqlEndpoint =\n/*#__PURE__*/\nfunction () {\n  function SparqlEndpoint(uri) {\n    _classCallCheck(this, SparqlEndpoint);\n\n    this._uri = uri;\n  }\n\n  _createClass(SparqlEndpoint, [{\n    key: \"getSparqlResultSet\",\n    value: function getSparqlResultSet(query) {\n      console.log(query);\n      var encodedQuery = encodeURIComponent(query);\n      return (0, _nodeFetch[\"default\"])(this._uri + \"?query=\" + encodedQuery, {\n        headers: {\n          accept: \"application/sparql-results+json\"\n        }\n      }).then(function (response) {\n        if (!response.ok) {\n          throw response.status;\n        } else {\n          return response.json();\n        }\n      });\n    }\n  }, {\n    key: \"getSparqlRDF\",\n    value: function getSparqlRDF(query) {\n      console.log(query);\n      var encodedQuery = encodeURIComponent(query);\n      return _extRdflib[\"default\"].rdfFetch(this._uri + \"?query=\" + encodedQuery, {\n        headers: new Headers({\n          accept: \"text/turtle\"\n        })\n      }).then(function (response) {\n        if (!response.ok) {\n          throw response.status;\n        } else {\n          return response.graph();\n        }\n      });\n    }\n  }]);\n\n  return SparqlEndpoint;\n}();\n\nexports[\"default\"] = SparqlEndpoint;\nmodule.exports = exports.default;\n//# sourceMappingURL=SparqlEndpoint.js.map","module.exports = __WEBPACK_EXTERNAL_MODULE__6__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7__;"],"sourceRoot":""}